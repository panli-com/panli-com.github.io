<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />



  <meta name="description" content="不折腾，哪来的新技术" />




  <meta name="keywords" content="panli, ued" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="不折腾，哪来的新技术">
<meta property="og:type" content="website">
<meta property="og:title" content="Panli团队技术博客">
<meta property="og:url" content="http://panli-com.github.io/page/4/index.html">
<meta property="og:site_name" content="Panli团队技术博客">
<meta property="og:description" content="不折腾，哪来的新技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Panli团队技术博客">
<meta name="twitter:description" content="不折腾，哪来的新技术">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Panli团队技术博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Panli团队技术博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">追寻最新技术领域</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-heartbeat fa-fw"></i> <br />
            
            公益404
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">
    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/11/05/redux/redux框架-介绍-动机/" itemprop="url">
                  redux框架-介绍(动机)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-05T13:09:21+08:00" content="2015-11-05">
              2015-11-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/redux/" itemprop="url" rel="index">
                    <span itemprop="name">redux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/11/05/redux/redux框架-介绍-动机/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/11/05/redux/redux框架-介绍-动机/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="为何而来"><a href="#为何而来" class="headerlink" title="为何而来"></a>为何而来</h2><p>随着 JavaScript 单页应用开发日趋复杂，JavaScript 需要管理比任何时候都多的 state （状态）。<br>这些 state 可能包括服务器响应、缓存数据、本地生成尚未持久化到服务器的数据，也包括 UI 状态，<br>如激活的路由，被选中的标签，是否显示加载中动效或者分页器等等。</p> <p>管理不断变化的 state 非常难。如果一个 model 的变化会引起另一个 model 变化，那么当 view 变化时，<br>就可能引起对应 model 以及另一个 model 的变化，依次地，可能会引起另一个 view 的变化。直至你搞不清楚到底发生了什么。<br>state 在什么时候，为什么，如何变化已然不受控制。 当系统变得错综复杂的时候，想重现问题或者添加新功能就会变得举步维艰。</p> <p>如果这还不够糟糕，考虑一些来自前端开发领域的新需求，如更新调优、服务端渲染、路由跳转前请求数据等等。<br>我们前端开发者正在经受前所未有的复杂性，我们是时候该放弃了吗？</p> <p>这里的复杂性很大程度上来自于：我们总是将两个难以厘清的概念混在一起：变化和异步。<br>我称它们为曼妥思糖与可乐。如果把二者都分开，能做的很好，但混到一起，就变得一团糟。<br>一些库如 React 试图在视图层禁止异步和直接操作 DOM 来解决这个问题。<br>美中不足的是，React 依旧把处理 state 中数据的问题留给了你自己。</p> <p>跟随 Flux、CQRS 和 Event Sourcing 的脚步，通过限制更新发生的时间和方式，<br>Redux 试图让 state 的变化变得可预测，而这些限制条件反映在 Redux 的 三大原则中。</p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/11/03/服务器端世界时间-UTC-转换客户端时区时间/" itemprop="url">
                  服务器端世界时间(UTC)转换客户端时区时间
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-03T07:47:56+08:00" content="2015-11-03">
              2015-11-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/11/03/服务器端世界时间-UTC-转换客户端时区时间/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/11/03/服务器端世界时间-UTC-转换客户端时区时间/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>最近在做项目的时候，一直出现 客户端时间不对的问题,鉴于顺应 上个前端开发的布道，在设置时间方面，也一直按照以往的惯例.<br>由于时间是海外客户，在取服务器时间的接口上，总是比北京时间提早8小时，于是希望服务器接口返回的时间是格林威治时间，<br>根据客户端的时区转换时间。</p> <blockquote> <p>gg接口<br>GetDateTimeUtc 返回UTC标准时间毫秒<br>GetDateTimeStamp 返回标准UTC时间戳</p> <p>##　服务接口返回格林威治时间</p> </blockquote> <figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">"<span class="keyword">POST</span>"</span>,</span><br><span class="line">    url: <span class="string">"/App_Services/wsDefault.asmx/GetDateTimeStamp"</span>,</span><br><span class="line">    dataType: <span class="string">"json"</span>,</span><br><span class="line">    contentType: <span class="string">"application/json;utf-8"</span>,</span><br><span class="line">    timeout: <span class="number">10000</span>,</span><br><span class="line">    error: function () &#123; &#125;,</span><br><span class="line">    success: function (msg) &#123;</span><br><span class="line">        if (msg)</span><br><span class="line">            ajaxInit(parseFloat(msg.d));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure> <h2 id="根据客户端的时区获取时差"><a href="#根据客户端的时区获取时差" class="headerlink" title="根据客户端的时区获取时差"></a>根据客户端的时区获取时差</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clientTimeZoneT</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//获得时区偏移量</span></span><br><span class="line">    <span class="keyword">var</span> timeOffset = <span class="keyword">new</span> <span class="built_in">Date</span>().getTimezoneOffset();</span><br><span class="line">    <span class="comment">//获得时区小时偏移基数</span></span><br><span class="line">    <span class="keyword">var</span> hour = <span class="built_in">parseInt</span>(timeOffset / <span class="number">60</span>);</span><br><span class="line">    <span class="comment">//获得时区分钟偏移基数</span></span><br><span class="line">    <span class="keyword">var</span> munite = timeOffset % <span class="number">60</span>;</span><br><span class="line">    <span class="keyword">var</span> prefix = <span class="string">"-"</span>;</span><br><span class="line">    <span class="keyword">if</span> (hour &lt; <span class="number">0</span> || munite &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        prefix = <span class="string">"+"</span>;</span><br><span class="line">        hour = -hour;</span><br><span class="line">        <span class="keyword">if</span> (munite &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            munite = -munite;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    hour += <span class="string">" "</span>;</span><br><span class="line">    munite += <span class="string">" "</span>;</span><br><span class="line">    <span class="keyword">if</span> (hour.length == <span class="number">2</span>) &#123;</span><br><span class="line">        hour = <span class="string">"0"</span> + hour;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (munite.length == <span class="number">2</span>) &#123;</span><br><span class="line">        munite = <span class="string">"0"</span> + munite;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> TimeZone = prefix + hour + munite;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> TimeZoneJ = &#123;</span><br><span class="line">        TimeZone: TimeZone,</span><br><span class="line">        Minute:timeOffset,</span><br><span class="line">        millisecond: -(timeOffset*<span class="number">60</span>*<span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> TimeZoneJ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>clientTimeZoneT 函数 返回一个 json 对象<br><code>TimeZone</code> 时区差<br><code>Minute</code> 相差分钟数<br><code>millisecond</code> 毫秒数 ：为了和服务器返回的时间做对应客户端时间</p> <h2 id="JavaScript-getTimezoneOffset-方法"><a href="#JavaScript-getTimezoneOffset-方法" class="headerlink" title="JavaScript getTimezoneOffset() 方法"></a>JavaScript getTimezoneOffset() 方法</h2><p>返回格林威治时间和本地时间之间的时差：</p> <figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">d</span> = new <span class="built_in">Date</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">n</span> = <span class="keyword">d</span>.getTimezoneOffset();</span><br></pre></td></tr></table></figure> <p>n 输出结果:</p> <figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-480</span></span><br></pre></td></tr></table></figure> <h2 id="定义和用法"><a href="#定义和用法" class="headerlink" title="定义和用法"></a>定义和用法</h2><p>getTimezoneOffset() 方法可返回格林威治时间和本地时间之间的时差，以分钟为单位。<br>例如，如果时区为 GMT+2, 将返回-120 。<br>注意： 由于使用夏令时的惯例，该方法的返回值不是一个常量。<br>提示： 协调世界时，又称世界统一时间，世界标准时间，国际协调时间，简称UTC（Universal Coordinated Time）。<br>注意： UTC 时间即是 GMT（格林尼治） 时间。</p> <h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><p>Number : 本地时间与 GMT 时间之间的时间差，以分钟为单位。</p> <h2 id="最终方案"><a href="#最终方案" class="headerlink" title="最终方案"></a>最终方案</h2><p>选择了 GetDateTimeStamp 返回标准UTC时间戳</p> <p>遇到的坑 是 <code>GetDateTimeStamp</code> 给我返回的是 10 位数的 时间戳 哈哈 ，所以需要给返回的值 * 1000</p> <p>可以看到一下代码 返回的时间戳 * 1000 后在交给 js 处理。</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">"POST"</span>,</span><br><span class="line">    url: <span class="string">"/App_Services/wsDefault.asmx/GetDateTimeStamp"</span>,</span><br><span class="line">    dataType: <span class="string">"json"</span>,</span><br><span class="line">    contentType: <span class="string">"application/json;utf-8"</span>,</span><br><span class="line">    timeout: <span class="number">10000</span>,</span><br><span class="line">    error: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> millisecond = <span class="built_in">parseInt</span>(clientTimeZoneT().millisecond);</span><br><span class="line">        <span class="keyword">var</span> HDateTime = <span class="built_in">parseFloat</span>(msg.d * <span class="number">1000</span>);     </span><br><span class="line">        <span class="keyword">if</span> (msg)</span><br><span class="line">            ajaxInit(HDateTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure> <hr>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第六节/" itemprop="url">
                  node.js框架StrongLoop一步步搭建 第六节 (loopback 插入数据库(mongodb))
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-29T16:10:00+08:00" content="2015-10-29">
              2015-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第六节/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第六节/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" rel="gallery_cio0stqja003b9l55ln60sz0t"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="loopback-插入数据库"><a href="#loopback-插入数据库" class="headerlink" title="loopback 插入数据库"></a>loopback 插入数据库</h2><blockquote> <p>mongodb 篇</p> </blockquote> <p>上几节相信大家的项目都可以运行起来了,下面就开始 玩玩 mongodb 这个家伙吧</p> <p>在玩之前希望测试一下是否已经 连接到 <code>mongodb</code></p> <p> 可以登录 启动 StrongLoop 的 api 平台</p> <figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>slc arc</span><br></pre></td></tr></table></figure> <p> <img src="http://zanjs.b0.upaiyun.com/image/9/6c/b4c228b5d0bb089ad8f83cbfbae94.png" alt="StrongLoop api 平台"></p> <blockquote> <p>点击 大大的按钮 看到 Success 就正常已经正常连接到 mongodb 了</p> </blockquote> <h3 id="配置-datasources-json-内容如下"><a href="#配置-datasources-json-内容如下" class="headerlink" title="配置 datasources.json  内容如下"></a>配置 datasources.json 内容如下</h3><blockquote> <p>根据您 mongodb 的 配置 填入</p> </blockquote> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"db"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"connector"</span>: <span class="string">"memory"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"mongodb"</span>: &#123;</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">27017</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"connector"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"mongodb://localhost:27017/panli-auth"</span>,</span><br><span class="line">    <span class="attr">"user"</span>: <span class="string">""</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <h3 id="配置-model-config-json"><a href="#配置-model-config-json" class="headerlink" title="配置 model-config.json"></a>配置 model-config.json</h3><blockquote> <p>这里我吧 <code>dataSource</code> 都改成了 ‘mongodb’ </p> <p>mongodb 的数据源 在 datasources.json 的文件里配置好了 上面已经配置了</p> </blockquote> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"sources"</span>: [</span><br><span class="line">      <span class="string">"loopback/common/models"</span>,</span><br><span class="line">      <span class="string">"loopback/server/models"</span>,</span><br><span class="line">      <span class="string">"../common/models"</span>,</span><br><span class="line">      <span class="string">"./models"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"mixins"</span>: [</span><br><span class="line">      <span class="string">"loopback/common/mixins"</span>,</span><br><span class="line">      <span class="string">"loopback/server/mixins"</span>,</span><br><span class="line">      <span class="string">"../common/mixins"</span>,</span><br><span class="line">      <span class="string">"./mixins"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"AccessToken"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"ACL"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"RoleMapping"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"Role"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"PanUser"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <h3 id="scl-run-运行应用"><a href="#scl-run-运行应用" class="headerlink" title="scl run 运行应用"></a>scl run 运行应用</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">E:</span>\zan\www\strongloop\loopback\panli-auth&gt;slc run</span><br><span class="line">INFO strong-agent v2<span class="number">.0</span><span class="number">.2</span> profiling app <span class="string">'panli-auth'</span> pid <span class="string">'7752'</span></span><br><span class="line">INFO strong-agent[<span class="number">7752</span>] started profiling agent</span><br><span class="line">INFO supervisor reporting metrics to `<span class="string">internal:</span>`</span><br><span class="line">supervisor running without clustering (unsupervised)</span><br><span class="line"><span class="string">Swagger:</span> skipping unknown type <span class="string">"ObjectID"</span>.</span><br><span class="line">Web server listening <span class="string">at:</span> <span class="string">http:</span><span class="comment">//localhost:3000</span></span><br><span class="line">Browse your REST API at <span class="string">http:</span><span class="comment">//localhost:3000/explorer</span></span><br></pre></td></tr></table></figure> <p>浏览器打开 <a href="http://localhost:3000/explorer" target="_blank" rel="external">http://localhost:3000/explorer</a></p> <p>在这里 我们可以测试接口的数据</p> <p>下面演示一下</p> <p><img src="http://zanjs.b0.upaiyun.com/image/f/0c/f07b3315a75d8f13ff07e21b6dd8b.gif" alt="api gif"></p> <blockquote> <p>上面是演示注册用户的api 接口 post 提交 <a href="http://localhost:3000/api/users" target="_blank" rel="external">http://localhost:3000/api/users</a></p> </blockquote> <p>在文本框内输入三个必填项 username ， email 和 password</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"username"</span>:<span class="string">"za2"</span>,</span><br><span class="line"><span class="attr">"email"</span>:<span class="string">"zz@z2.com"</span>,</span><br><span class="line"><span class="attr">"password"</span>:<span class="string">"qq123"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>提交后 在下面的 Response Body 可以看到 我们注册的用户信息了</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"username"</span>: <span class="string">"za2"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"zz@z2.com"</span>,</span><br><span class="line">  <span class="attr">"id"</span>: <span class="string">"5631dc4d59ab85481e474aec"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>看到 id 的键值 就可以知道 他插入到了 mongodb 了</p> <p>我还是不相信我的眼睛 ， 吓得我 跑到 mongodb 瞧一瞧 嘻嘻！</p> <figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt; show dbs</span><br><span class="line"><span class="keyword">local</span>       <span class="number">0</span>.<span class="number">07</span>8GB</span><br><span class="line">panli-auth  <span class="number">0</span>.<span class="number">07</span>8GB</span><br><span class="line">test        <span class="number">0</span>.<span class="number">07</span>8GB</span><br><span class="line">&gt; <span class="keyword">use</span> panli-auth</span><br><span class="line">switched to db panli-auth</span><br><span class="line">&gt; show tables</span><br><span class="line">PanUser</span><br><span class="line">system.indexes</span><br><span class="line">&gt; show collections</span><br><span class="line">PanUser</span><br><span class="line">system.indexes</span><br><span class="line">&gt; db.PanUser.find()</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5631d38859ab85481e474aeb"</span>), <span class="string">"username"</span> : <span class="string">"za"</span>, <span class="string">"password"</span> :</span><br><span class="line"><span class="string">"$2a$10$OnuNv/YTPSYzYUi9S9UJ3eArmRmZQbRCyBnqt6xxozYEjSMIE2PTK"</span>, <span class="string">"email"</span> : <span class="string">"zz@z.</span><br><span class="line">com"</span> &#125;</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5631dc4d59ab85481e474aec"</span>), <span class="string">"username"</span> : <span class="string">"za2"</span>, <span class="string">"password"</span> :</span><br><span class="line"> <span class="string">"$2a$10$9q5X4y570Ti3SdfMg4ANr.dHOdjZpPW3.JOxE5GB2U6t9XCngZyVq"</span>, <span class="string">"email"</span> : <span class="string">"zz@z</span><br><span class="line">2.com"</span> &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure> <p>可以看到 数据以及躺在 mongodb 里啦</p> <p>如果有不对的地方，请大神 指错， 我也是一边学习 一边 写的</p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第五节/" itemprop="url">
                  node.js框架StrongLoop一步步搭建 第五节 (LoopBack 模型(model)属性添加)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-29T15:10:28+08:00" content="2015-10-29">
              2015-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第五节/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第五节/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" rel="gallery_cio0stqj900389l553h9esari"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="模型-model-添加新属性"><a href="#模型-model-添加新属性" class="headerlink" title="模型(model)添加新属性"></a>模型(model)添加新属性</h2><h3 id="命令行方式"><a href="#命令行方式" class="headerlink" title="命令行方式"></a>命令行方式</h3><ul> <li>cd 到项目根目录下 <code>slc loopback:property</code></li> </ul> <p>选择属性添加到哪个模型里 - 我选择了上节创建的 <code>PanUser</code> 模型</p> <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">E:\zan\www\strongloop\loopback\panli-auth&gt;slc loopback:<span class="keyword">property</span><span class="title"></span><br><span class="line"></span>? Select the model:</span><br><span class="line">  Change</span><br><span class="line">  Checkpoint</span><br><span class="line">  Email</span><br><span class="line">&gt; PanUser</span><br><span class="line">  <span class="keyword">Role</span></span><br><span class="line">  <span class="title">RoleMapping</span></span><br><span class="line">  Scope</span><br><span class="line">(Move up <span class="keyword">and</span> down to reveal more choices)</span><br></pre></td></tr></table></figure> <p>要添加属性的名称 输入 <code>age</code> 选择 number 字段类型</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">? <span class="keyword">Select</span> the <span class="keyword">model</span>: PanUser</span><br><span class="line">? Enter the property <span class="keyword">name</span>: age</span><br><span class="line">? Property <span class="keyword">type</span>:</span><br><span class="line">  <span class="keyword">string</span></span><br><span class="line">&gt; <span class="built_in">number</span></span><br><span class="line">  <span class="built_in">boolean</span></span><br><span class="line">  <span class="keyword">object</span></span><br><span class="line">  <span class="built_in">array</span></span><br><span class="line">  <span class="built_in">date</span></span><br><span class="line">  buffer</span><br><span class="line">(<span class="keyword">Move</span> up <span class="keyword">and</span> down <span class="keyword">to</span> reveal more choices)</span><br></pre></td></tr></table></figure> <p>是否必填 输入 N</p> <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">? Select the model: PanUser</span><br><span class="line">? Enter the <span class="keyword">property</span><span class="title"> name:</span> age</span><br><span class="line">? <span class="keyword">Property</span><span class="title"> type:</span> <span class="keyword">number</span></span><br><span class="line">? Required? No</span><br></pre></td></tr></table></figure> <p>到此 为 模型(model)添加新属性 结束</p> <h3 id="web在线网页方式"><a href="#web在线网页方式" class="headerlink" title="web在线网页方式"></a>web在线网页方式</h3><p>忽视吧 哈哈…</p> <p>StrongLoop API平台 傻瓜式操作 </p> <blockquote> <p>如果有不对的地方，请大神 指错， 我也是一边学习 一边 写的</p> </blockquote>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第四节/" itemprop="url">
                  node.js框架StrongLoop一步步搭建 第四节 (LoopBack 模型(model)的创建)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-29T14:15:11+08:00" content="2015-10-29">
              2015-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第四节/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第四节/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" rel="gallery_cio0stqjc003f9l55b0djbmh1"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="创建新模型-model"><a href="#创建新模型-model" class="headerlink" title="创建新模型(model)"></a>创建新模型(model)</h2><p>如果您还在停留在手工创建 模型(model)，是不是感觉很不爽 ！<br>是的，<code>StrongLoop</code> 给我们带来的更加规范的模式！下面进入正题</p> <h3 id="命令行方式"><a href="#命令行方式" class="headerlink" title="命令行方式"></a>命令行方式</h3><ul> <li>cd 到项目根目录下 <code>slc loopback:model</code></li> </ul> <blockquote> <p>接下来会进入交互模式</p> </blockquote> <p>这里是输入模型名称 我输入了 <code>PanUser</code> (我理解为数据库的表名！！ 惭愧了 (<em>^__^</em>) 嘻嘻……)</p> <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? Enter <span class="keyword">the</span> model <span class="built_in">name</span>: PanUser</span><br></pre></td></tr></table></figure> <p>下面选择 模型(model) 的 存放数据源， 由于在前面我已经创建了 mongodb 的数据源 (为数据持久化)</p> <p>如果您还没有创建数据源的话，可能选项只有 一个 <code>db (memory)</code> 存放在内存中</p> <p>这里我选择了 mongodb (mongodb) 第二个选择</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">? <span class="keyword">Select</span> the <span class="keyword">data</span>-<span class="keyword">source</span> <span class="keyword">to</span> attach PanUser <span class="keyword">to</span>:</span><br><span class="line">  (<span class="keyword">no</span> <span class="keyword">data</span>-<span class="keyword">source</span>)</span><br><span class="line">&gt; db (<span class="keyword">memory</span>)</span><br><span class="line">  mongodb (mongodb)</span><br></pre></td></tr></table></figure> <p>接下来我们要选择 模型继承类 ，这里我们想建立一个用户系统，<br><code>PanUser</code> 这个模型 继续 loopback 自身内建的 <code>User</code> 类<br>一直下拉 选择 <code>User</code> 回车</p> <figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">? Enter the model name: PanUser</span><br><span class="line">? <span class="keyword">Select</span> the data-source <span class="keyword">to</span> attach PanUser <span class="keyword">to</span>: mongodb (mongodb)</span><br><span class="line">? <span class="keyword">Select</span> model<span class="symbol">'s</span> base class (<span class="keyword">Use</span> arrow keys)</span><br><span class="line">  Model</span><br><span class="line">&gt; PersistedModel</span><br><span class="line">  ACL</span><br><span class="line">  AccessToken</span><br><span class="line">  Application</span><br><span class="line">  Change</span><br><span class="line">  Checkpoint</span><br><span class="line">(Move up <span class="keyword">and</span> down <span class="keyword">to</span> reveal more choices)</span><br></pre></td></tr></table></figure> <p>回车后我们看到了 如下</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">? Enter the model name: PanUser</span><br><span class="line">? <span class="keyword">Select</span> the <span class="keyword">data</span>-<span class="keyword">source</span> <span class="keyword">to</span> attach PanUser <span class="keyword">to</span>: mongodb (mongodb)</span><br><span class="line">? <span class="keyword">Select</span> <span class="keyword">model</span><span class="string">'s base class User</span><br><span class="line">? Expose PanUser via the REST API? (Y/n) -- Y键回车 暴露这个接口</span></span><br></pre></td></tr></table></figure> <p>下面填写 REST 接口 的 url 地址 – 我填写了 users<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">? Enter the model name: PanUser</span><br><span class="line">? <span class="keyword">Select</span> the <span class="keyword">data</span>-<span class="keyword">source</span> <span class="keyword">to</span> attach PanUser <span class="keyword">to</span>: mongodb (mongodb)</span><br><span class="line">? <span class="keyword">Select</span> <span class="keyword">model</span><span class="string">'s base class User</span><br><span class="line">? Expose PanUser via the REST API? Yes</span><br><span class="line">? Custom plural form (used to build REST URL): users</span></span><br></pre></td></tr></table></figure></p> <p>主要配置都完成了 当输入完 REST 接口 的 url 地址 回车后，<br>就该添加字段了 ,由于 <code>PanUser</code> 已经继承了 loopback 的 <code>User</code><br>所以 一些该有的字段 都已经有了 例如 username email password 等等<br>这里我输入了 <code>fullname</code></p> <figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">E:\zan\www\strongloop\loopback\panli-auth&gt;slc loopback:model</span><br><span class="line">? Enter the model name: PanUser</span><br><span class="line">? <span class="keyword">Select</span> the data-source <span class="keyword">to</span> attach PanUser <span class="keyword">to</span>: mongodb (mongodb)</span><br><span class="line">? <span class="keyword">Select</span> model<span class="comment">'s base class User</span></span><br><span class="line">? Expose PanUser via the REST API? Yes</span><br><span class="line">? <span class="keyword">Custom</span> plural form (used <span class="keyword">to</span> build REST URL): users</span><br><span class="line"><span class="keyword">Let</span><span class="comment">'s add some PanUser properties now.</span></span><br><span class="line"></span><br><span class="line">Enter an empty <span class="keyword">property</span> name <span class="keyword">when</span> done.</span><br><span class="line">? <span class="keyword">Property</span> name: fullname</span><br></pre></td></tr></table></figure> <p>选择 字段类型 ‘string’</p> <figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Enter an empty property name when done.</span><br><span class="line">? Property name: fullname</span><br><span class="line">(!) generator<span class="comment">#invoke() is deprecated. Use generator#composeWith() - see http:</span></span><br><span class="line">eoman.io/authoring/composability.html</span><br><span class="line">  <span class="built_in"> invoke </span>  loopback:property</span><br><span class="line">? Property type: (Use arrow keys)</span><br><span class="line">&gt; string</span><br><span class="line">  number</span><br><span class="line">  boolean</span><br><span class="line">  object</span><br><span class="line"> <span class="built_in"> array</span><br><span class="line"></span>  date</span><br><span class="line">  buffer</span><br><span class="line">(Move up<span class="built_in"> and </span>down to reveal more choices)</span><br></pre></td></tr></table></figure> <p>是否必填 no</p> <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">? <span class="keyword">Property</span><span class="title"> type:</span> <span class="keyword">string</span></span><br><span class="line">? Required? No</span><br><span class="line"></span><br><span class="line">Let's add another PanUser <span class="keyword">property</span>.<span class="title"></span><br><span class="line"></span>Enter an empty <span class="keyword">property</span><span class="title"> </span>name when done.</span><br><span class="line">? <span class="keyword">Property</span><span class="title"> name:</span></span><br></pre></td></tr></table></figure> <p>接下来会继续增加字段 这里就不增加了 按下 ctrl+c 退出交互</p> <p>有人会问 以上命令都做了哪些 设置呢？</p> <p>在项目根目录下 多了 一个 common 文件夹 结构如下</p> <p><img src="http://zanjs.b0.upaiyun.com/image/6/bd/d24478084298afc75a0ece6bd7712.png" alt="common"></p> <p>可以看到 models 增加了 2个文件 <code>pan-user.js</code> 和 <code>pan-user.json</code></p> <p>pan-user.js 可以写入我们的业务逻辑</p> <p>pan-user.json 是模型配置参数</p> <p>还有一个地方做了修改 在 server/model-config.json 下 可以看到 增加了如下配置</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"_meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"sources"</span>: [</span><br><span class="line">      <span class="string">"loopback/common/models"</span>,</span><br><span class="line">      <span class="string">"loopback/server/models"</span>,</span><br><span class="line">      <span class="string">"../common/models"</span>,</span><br><span class="line">      <span class="string">"./models"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"mixins"</span>: [</span><br><span class="line">      <span class="string">"loopback/common/mixins"</span>,</span><br><span class="line">      <span class="string">"loopback/server/mixins"</span>,</span><br><span class="line">      <span class="string">"../common/mixins"</span>,</span><br><span class="line">      <span class="string">"./mixins"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"User"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"db"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"AccessToken"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"ACL"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"RoleMapping"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"Role"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"PanUser"</span>: &#123;</span><br><span class="line">    <span class="attr">"dataSource"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"public"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>在最后面 增加 了 <code>PanUser</code>;<br>这个在 我们手工 写入 <code>model</code> 时 是不能忘记的</p> <h3 id="web在线网页方式"><a href="#web在线网页方式" class="headerlink" title="web在线网页方式"></a>web在线网页方式</h3><blockquote> <p>如果您看过了 第三季的 话， 我想这里就很简单了<br>如果您没有看,可以看一下上一节的 操作</p> </blockquote> <p><img src="http://zanjs.b0.upaiyun.com/image/2/a5/1d82a29ecfb182ac919b8d578e07d.png" alt="model"></p> <p>可以看到 这里已经显示了 刚才 我们用命令行的方式 添加的 <code>PanUser</code></p> <p>这里都是傻瓜式操作了，大家自己玩玩吧！ <code>O(∩_∩)O哈哈</code></p> <p>如果有不对的地方，请大神 指错， 我也是一边学习 一边 写的</p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第三节/" itemprop="url">
                  node.js框架StrongLoop一步步搭建 第三节 (LoopBack 数据库配置连接)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-29T11:21:14+08:00" content="2015-10-29">
              2015-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第三节/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第三节/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" rel="gallery_cio0stqj500319l55vio8vck5"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="配置数据库连接"><a href="#配置数据库连接" class="headerlink" title="配置数据库连接"></a>配置数据库连接</h2><p>Loopback 提供了 多种连接数据库的 方案 一下分别是 <code>命令行</code> 和 StrongLoop 为我们提供的管理系统</p> <h3 id="命令行方式"><a href="#命令行方式" class="headerlink" title="命令行方式"></a>命令行方式</h3><ul> <li>cd 到项目根目录下 <code>slc loopback:datasource</code></li> </ul> <blockquote> <p>接下来会进入交互模式</p> </blockquote> <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">? Enter <span class="keyword">the</span> data-source name: mongodb</span><br><span class="line">? Select <span class="keyword">the</span> connector <span class="keyword">for</span> mongodb: MongoDB (supported <span class="keyword">by</span> StrongLoop)</span><br></pre></td></tr></table></figure> <p>这里我 选了 <code>mongodb</code></p> <p>下面是选择界面</p> <figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">? Enter the <span class="meta">data</span>-source name: mysql</span><br><span class="line">? <span class="keyword">Select </span>the connector for mysql:</span><br><span class="line">  In-memory db (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>  Email (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>&gt; MySQL (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>  PostgreSQL (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>  Oracle (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>  Microsoft SQL (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>  MongoDB (supported <span class="keyword">by </span><span class="keyword">StrongLoop)</span><br><span class="line"></span>(<span class="keyword">Move </span>up <span class="keyword">and </span>down to <span class="keyword">reveal </span>more choices)</span><br></pre></td></tr></table></figure> <p>操作后会在项目目录下的 <code>server/datasources.json</code> 文件里增加 我们的 数据源</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"db"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"connector"</span>: <span class="string">"memory"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"mongodb"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"connector"</span>: <span class="string">"mongodb"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>在这里 需要我们手动添加 <code>mongodb</code> 的连接配置信息 加入 host, port, database, username和password等项</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"db"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"db"</span>,</span><br><span class="line">    <span class="attr">"connector"</span>: <span class="string">"memory"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"mongodb"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"connector"</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">    <span class="attr">"host"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"database"</span>: <span class="string">"devDB"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"devUser"</span>,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="string">"devPassword"</span>,</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">27017</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <h3 id="web在线网页方式"><a href="#web在线网页方式" class="headerlink" title="web在线网页方式"></a>web在线网页方式</h3><blockquote> <p>StrongLoop 为我们提供非常方便的 在线管理您的应用后台</p> </blockquote> <p>如果您是克隆了 同事的项目 请记得 先全局安装 <code>npm i -g strongloop</code></p> <p>到我们的项目根目录下 <code>slc arc</code> 命令</p> <p>会自动打开浏览器进入管理界面</p> <figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">E:<span class="symbol">\z</span>an<span class="symbol">\w</span>ww<span class="symbol">\s</span>trongloop<span class="symbol">\l</span>oopback<span class="symbol">\p</span>anli-auth&gt;slc arc</span><br><span class="line">Loading workspace E:<span class="symbol">\z</span>an<span class="symbol">\w</span>ww<span class="symbol">\s</span>trongloop<span class="symbol">\l</span>oopback<span class="symbol">\p</span>anli-auth</span><br><span class="line">StrongLoop Arc is running here: http://localhost:24033/#/</span><br></pre></td></tr></table></figure> <p><img src="http://zanjs.b0.upaiyun.com/image/6/73/d4ad7baca1f78490838e4010815f1.png" alt="loopback login"></p> <p>这里需要到 <a href="https://strongloop.com/register/" target="_blank" rel="external">strongloop</a> 的官网注册一个帐号 才可以登录后台 ，至于为什么，目前还不清楚，很抱歉，哈哈！</p> <p>注册好后 我们输出帐号登录来到了 非常漂亮的后台</p> <p><img src="http://zanjs.b0.upaiyun.com/image/b/a3/73d5f70f710616cbbe6c0216f64db.png" alt="loopback main page"></p> <p>由于刚才敲入的 是 <code>mongodb</code> 的 数据源 所以 在 左侧的 导航 会看到 <code>Data Sources</code> 会有2个数据源<br>第一个 <code>db</code> 表示 内存 一开始项目初始化的时候数据都是存放在 内存中的。<br>第二个 <code>mongodb</code> 是要链接本地mongodb 数据库的 下面是我的配置</p> <p><img src="http://zanjs.b0.upaiyun.com/image/3/83/db52891c31449d0d2c964201150ec.png" alt="mongodb 数据库"></p> <p>点击 <code>Test Connection 按钮</code> 如果出现 绿色 的 <code>Success</code> 提示 说明 连接数据库成功 ，你可以开心的耍了</p> <p>如果有不对的地方，请大神 指错， 我也是一边学习 一边 写的 </p> <p>祝你顺利完成！</p> <p>(<em>^__^</em>) 嘻嘻……</p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第二节/" itemprop="url">
                  node.js框架StrongLoop一步步搭建 第二节 (LoopBack 安装数据库)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-29T10:43:08+08:00" content="2015-10-29">
              2015-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第二节/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/strongloop/node-js框架StrongLoop一步步搭建-第二节/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" rel="gallery_cio0stqj700359l55pe2yric3"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="安装数据库驱动"><a href="#安装数据库驱动" class="headerlink" title="安装数据库驱动"></a>安装数据库驱动</h2><p>LoopBack 不是所有的事情都帮你做了，你还需要手动安装一下你需要的数据库</p> <p>目前 LoopBack 支持如下数据库:</p> <p>mongodb<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> loopback-connector-mongodb <span class="comment">--save</span></span><br></pre></td></tr></table></figure></p> <p>出处详情<br><a href="https://docs.strongloop.com/display/public/LB/MongoDB+connector" target="_blank" rel="external">https://docs.strongloop.com/display/public/LB/MongoDB+connector</a></p> <p>mysql<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> loopback-connector-mysql <span class="comment">--save</span></span><br></pre></td></tr></table></figure></p> <p>出处详情<br><a href="https://docs.strongloop.com/display/public/LB/MySQL+connector" target="_blank" rel="external">https://docs.strongloop.com/display/public/LB/MySQL+connector</a></p> <p>oracle<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> loopback-connector-<span class="keyword">oracle</span> <span class="comment">--save</span></span><br></pre></td></tr></table></figure></p> <p>出处详情<br><a href="https://docs.strongloop.com/display/public/LB/Oracle+connector" target="_blank" rel="external">https://docs.strongloop.com/display/public/LB/Oracle+connector</a></p> <p>postgresql</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> loopback-connector-postgresql <span class="comment">--save</span></span><br></pre></td></tr></table></figure> <p>出处详情<br><a href="https://docs.strongloop.com/display/public/LB/PostgreSQL+connector" target="_blank" rel="external">https://docs.strongloop.com/display/public/LB/PostgreSQL+connector</a></p> <p>SQL+Server</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> loopback-connector-mssql <span class="comment">--save</span></span><br></pre></td></tr></table></figure> <p>出处详情<br><a href="https://docs.strongloop.com/display/public/LB/SQL+Server+connector" target="_blank" rel="external">https://docs.strongloop.com/display/public/LB/SQL+Server+connector</a></p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建/" itemprop="url">
                  node.js框架StrongLoop一步步搭建 第一节 (LoopBack run)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-29T09:00:39+08:00" content="2015-10-29">
              2015-10-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/node/" itemprop="url" rel="index">
                    <span itemprop="name">node</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/29/strongloop/node-js框架StrongLoop一步步搭建/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/29/strongloop/node-js框架StrongLoop一步步搭建/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" rel="gallery_cio0stqje003j9l5548v5sn14"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/3/a0/30b4cfec7a5c0e547153d0ac560e2.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="Install-StrongLoop-安装到全局"><a href="#Install-StrongLoop-安装到全局" class="headerlink" title="Install StrongLoop 安装到全局"></a>Install StrongLoop 安装到全局</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g strongloop</span><br></pre></td></tr></table></figure> <h2 id="Create-app-创建一个应用"><a href="#Create-app-创建一个应用" class="headerlink" title="Create app 创建一个应用"></a>Create app 创建一个应用</h2><blockquote> <p>Create a “Hello World” LoopBack application.</p> <p>创建一个 “Hello World” 的 LoopBack 应用</p> </blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ slc loopback</span><br><span class="line">[?] Enter a directory name <span class="built_in">where</span> to create the project: hello-world</span><br><span class="line">[?] What\<span class="string">'s the name of your application? hello-world</span></span><br></pre></td></tr></table></figure>  <h2 id="Create-models-为应用创建一个模型"><a href="#Create-models-为应用创建一个模型" class="headerlink" title="Create models 为应用创建一个模型"></a>Create models 为应用创建一个模型</h2><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> cd hello-world</span><br><span class="line"><span class="symbol">$</span> slc loopback:<span class="keyword">model</span></span><br></pre></td></tr></table></figure> <p>接下来会交互 模型的 值 按照您的需求输入</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[?] Enter the model name: person</span><br><span class="line">[?] <span class="keyword">Select</span> the <span class="keyword">data</span>-<span class="keyword">source</span> <span class="keyword">to</span> attach person <span class="keyword">to</span>: db (<span class="keyword">memory</span>)</span><br><span class="line">[?] Expose person via the REST API? Yes</span><br><span class="line">[?] Custom plural <span class="keyword">form</span> (used <span class="keyword">to</span> <span class="keyword">build</span> REST <span class="keyword">URL</span>): people</span><br><span class="line">Let<span class="string">'s add some person properties now.</span></span><br></pre></td></tr></table></figure> <p>创建模型的字段名称</p> <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter an empty <span class="keyword">property</span><span class="title"> </span>name when done.</span><br><span class="line">[?] <span class="keyword">Property</span><span class="title"> name:</span> firstname</span><br></pre></td></tr></table></figure> <p> 选择字段类型 上下键切换</p> <figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> [?] Property type: (Use arrow keys)</span><br><span class="line">❯ string</span><br><span class="line">  number</span><br><span class="line">  boolean</span><br><span class="line">  object</span><br><span class="line"> <span class="built_in"> array</span><br><span class="line"></span>  date</span><br><span class="line">  buffer</span><br><span class="line">  geopoint</span><br><span class="line">  (other)</span><br></pre></td></tr></table></figure> <p> 是否是必填 默认为 N</p> <figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">?</span>] Required? (<span class="name">y/N</span>) y</span><br></pre></td></tr></table></figure> <h2 id="Run-the-application-运行-这个应用"><a href="#Run-the-application-运行-这个应用" class="headerlink" title="Run the application 运行 这个应用"></a>Run the application 运行 这个应用</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ node .</span><br><span class="line">Browse your REST API at <span class="string">http:</span><span class="comment">//0.0.0.0:3000/explorer</span></span><br><span class="line">Web server listening <span class="string">at:</span> <span class="string">http:</span><span class="comment">//0.0.0.0:3000/</span></span><br></pre></td></tr></table></figure> <p>浏览器打开 <a href="http://localhost:3000/explorer" target="_blank" rel="external">http://localhost:3000/explorer</a></p> <p>就可以看到 所有 http 请求的 api 接口 ,这里提供了很方便的测试，棒棒的</p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/25/atom/atom使用帮助/" itemprop="url">
                  atom使用帮助
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-25T18:30:37+08:00" content="2015-10-25">
              2015-10-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/开发工具/" itemprop="url" rel="index">
                    <span itemprop="name">开发工具</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/25/atom/atom使用帮助/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/25/atom/atom使用帮助/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://zanjs.b0.upaiyun.com/image/2/47/c7766d97ed2718ad7bd94dfc134e9.png" rel="gallery_cio0stqia001h9l55v4htgyab"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://zanjs.b0.upaiyun.com/image/2/47/c7766d97ed2718ad7bd94dfc134e9.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h2><p>一款编辑器入门还是很简单的，学会怎么样创建，打开，编辑，保存文件就行。<br>剩下的就是慢慢熟悉，Atom 会不断带给你惊喜，如果你想简化或者加快平时工作中的某些任务或者动作，你就可以去搜索一下，Atom 要么本身就为你提供你需要的功能，没有的话，也可以通过现成的插件（Packages）或者自定义的方式解决。</p> <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>如果你顺着我们的路线走过来，你的电脑上应该已经安装好了系统的包管理工具，<br>Windows 上的 Chocolatey，Mac 上的 Homebrew，Atom 编辑器可以通过包管理工具来安装。</p>  <h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>用管理员的身份打开 Powershell，然后用 choco install 去安装 Atom：</p> <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco <span class="keyword">install</span> atom</span><br></pre></td></tr></table></figure> <blockquote> <p>提示：Atom 编辑器体积挺大，在国内由于网络环境问题，在下载的时候会比较慢，<br>有时也可能出现不能连接到远程服务器的错误，解决的方法就是，准备 “梯子” 。</p> </blockquote> <h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><p>打开系统的 终端，然后用 Homebrew 的 brew install 命令去安装 Atom：</p> <figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>install Caskroom/cask/atom</span><br></pre></td></tr></table></figure> <p>在命令行下面安装完 Atom 以后，可以输入 atom ，后面指定一个目录，这样会用 Atom 编辑器打开这个目录。<br>另外 Atom 编辑器还自带了一个包管理工具叫 apm （Atom Package Manager），<br>用这个工具可以在命令行下面为编辑器去安装包 （Package） ，包就是 Atom 的插件。</p> <h2 id="Packages"><a href="#Packages" class="headerlink" title="Packages"></a>Packages</h2><p>Atom 核心的功能是由 Core Packages（核心包） 提供的，另外还有 Community Packages（社区包），<br>就是由社区成员自己开发并且分享出来的 Package。Atom 可以通过安装这些 Package 来扩展编辑器的功能。<br>安装 Package 可以在 Atom 的配置界面上去搜索，然后安装，也可以使用 apm 在命令行下面管理编辑器的 Package 。</p> <p>Packages 列表：<a href="https://atom.io/packages" target="_blank" rel="external">https://atom.io/packages</a></p> <p><img src="http://zanjs.b0.upaiyun.com/image/a/0f/ae18039ff2750d0a0d7de123108a4.png" alt="atom"></p> <h3 id="安装包：通过配置界面"><a href="#安装包：通过配置界面" class="headerlink" title="安装包：通过配置界面"></a>安装包：通过配置界面</h3><ul> <li>打开 Atom 编辑器。</li> <li>打开 Atom 的配置界面（Windows：ctrl + , Mac：command + , ）。</li> <li>点击边栏上的 Install（安装）。</li> <li>在界面上的 Install Packages 下面，选中 Packages 标签，然后搜索你想要安装的 Package。</li> <li>在搜索结果找到想要的 Package ，点击 Install 安装。</li> </ul> <p><img src="http://zanjs.b0.upaiyun.com/image/5/bb/f3f7dd7cd5ca08f8d523840d1cc2e.png" alt="atom 编辑器"></p> <h3 id="安装包：通过-apm"><a href="#安装包：通过-apm" class="headerlink" title="安装包：通过 apm"></a>安装包：通过 apm</h3><ul> <li>打开命令行工具，Windows 用 Powershell，Mac 可以使用终端。</li> <li>搜索包用的是 apm search &lt;关键词&gt; 。</li> <li>找到想要的包以后，再用 apm install &lt;包的名字&gt;。</li> </ul> <blockquote> <p>下面，你可以搜索一个叫 Localization 的包，然后安装一下，这个包会为 Atom 的菜单栏提供一个中文翻译。<br>下面我们再看一下怎么样去配置与管理包。</p> </blockquote> <h2 id="管理包"><a href="#管理包" class="headerlink" title="管理包"></a>管理包</h2><p>打开配置界面，在边栏上选中 Packages ，在这个界面上的 Communtity Packages 区域里，你可以找到自己安装的来自社区成员分享的包。<br>Core Packages 下面是 Atom 编辑器核心自带的包。</p> <p><img src="http://zanjs.b0.upaiyun.com/image/d/a6/62c3be1ede689b80f9b3d9595fa7f.png" alt=""></p> <p>这里会显示包的名字，还有介绍，不想用的包，可以点击 Disable 按钮禁用它，或者直接点击 Uninstall 卸载掉包，点击 Settings 按钮可以打开包的配置界面，在这个界面上，你可以找到包的主页，说明的文档，可以查看包的源文件，还有相关的配置与快捷键。</p> <p>下面打开之前安装的 Localization 这个包的配置界面，然后在 Settings 区域里面，在 Current Language 下面的文本框里输入：Chinese - Simplified ，这样会把菜单栏的语言设置成简体中文，如果设置成 Chinese - Traditional，会把菜单栏设置成繁体中文。输入以后，用鼠标点一下浏览器的其它的地方，这样编辑器会保存你的配置。</p> <p>完成以后，想让设置生效，可以关掉并且重新打开编辑器，或者可以刷新一下编辑器。</p> <blockquote> <p>刷新编辑器的快捷键：</p> </blockquote> <figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Mac</span>    ：ctrl + alt + command + <span class="keyword">L</span></span><br><span class="line">Windows：ctrl + alt + <span class="built_in">R</span></span><br></pre></td></tr></table></figure> <h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>编辑器没有使用的门槛，打开以后，你就已经知道怎么用了，不过有些小技巧可以了解一下，可以提高工作效率。<br>先去下载点东西，HTML5Boilerplate（<a href="https://html5boilerplate.com/），这个东西可以作为项目的基础，" target="_blank" rel="external">https://html5boilerplate.com/），这个东西可以作为项目的基础，</a><br>以后我们会再跟它见面，以后在介绍前端包管理的时候，这个下载的动作可以用命令去做。<br>下载以后，解压一下，把解压以后的目录重命名成你自己想要创建的项目的名字，<br>然后用编辑器打开这个项目的目录（<code>Ｍac：command + O，Windows：ctrl + shift + O</code>）。</p> <p><img src="http://zanjs.b0.upaiyun.com/image/c/2e/7334fcbcd7a81d474c014bacd030f.png" alt=""></p> <p>编辑器的工作区有两部分组成，左边是编辑器的 Tree View（树形视图），上面会显示你打开的目录里面的东西，<br>右边是编辑器，在这可以处理打开的文件，最上面是标签栏，点击不同的标签可以打开对应的文件。</p> <h2 id="树形视图"><a href="#树形视图" class="headerlink" title="树形视图"></a>树形视图</h2><p>你想打开在树形视图上的文件，创建新的文件或者目录，展开与收起目录，这些动作可以用鼠标完成，或者也可以使用键盘上的按键。<br>想要在树形视图上操作，你需要把焦点放到树形视图上，切换焦点使用 ctrl + 0 。<br>你会发现树形视图上的背景颜色会有点变化，具体是什么变化，取决于你的编辑器使用的主题。</p> <p>查看跟树形视图相关的命令，先确定你的焦点在树形视图上，然后打开命令面板（Command Palette），用快捷键：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：<span class="built_in">command</span> + <span class="built_in">shift</span> + P</span><br><span class="line">Windows：ctrl + <span class="built_in">shift</span> + P</span><br></pre></td></tr></table></figure> <p>搜索一下 tree view ，列出的就是跟树形视图相关的命令。</p> <p><img src="http://zanjs.b0.upaiyun.com/image/e/c4/1d687351bddbb3ba974a9f5342657.png" alt="tree view "></p> <ul> <li>向下移动：↓ 或 J</li> <li>向上移动：↑ 或 K</li> <li>展开目录：→ 或 L</li> <li>收起目录：← 或 H</li> <li>打开文件：enter 回车</li> </ul> <blockquote> <p>多试几次上面的快捷键，把它变成自己的肌肉记忆。</p> </blockquote> <h2 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h2><p>先随便打开几个项目里的文件，比如 humans.txt，index.html，还有 css/main.css 。<br>打开的文件会出现在编辑器的标签栏上，除了用鼠标点击标签可以打开对应的文件，也可以使用快捷键：</p> <p>打开下一个标签面板</p> <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：alt + <span class="keyword">command</span> + →</span><br><span class="line">Windows：ctrl + pagedown</span><br></pre></td></tr></table></figure> <p>打开上一个标签面板</p> <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：alt + <span class="keyword">command</span> + ←</span><br><span class="line">Windows：ctrl + pageup</span><br></pre></td></tr></table></figure> <blockquote> <p>在 Mac 上，你还可以使用 command + 数字 ，打开对应的标签面板。</p> </blockquote> <p>关闭标签面板</p> <figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Mac</span>    ：command + <span class="built_in">W</span></span><br><span class="line">Windows：ctrl + <span class="built_in">W</span></span><br></pre></td></tr></table></figure> <h2 id="分离面板"><a href="#分离面板" class="headerlink" title="分离面板"></a>分离面板</h2><p>在编辑器上打开的文件可以分离到不同的面板上显示，你可以把编辑器分隔成上，下，左，右，四个部分。<br>方法是，找到要分离显示的标签面板，鼠标右键点击，然后选择 Split Up，Split Down，Split Left 或者 Split Right。</p> <p><img src="http://zanjs.b0.upaiyun.com/image/2/a4/8a77269fd1060245153c88b0bb187.png" alt=""></p> <p>这些动作也都有对应的快捷键，可以打开命令面板（Mac：command + shift + P，Windows：ctrl + shift + P），<br>然后搜索 Pane ，这样会显示出面板相关的操作命令。</p> <blockquote> <p>分离到上面</p> </blockquote> <figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：command + <span class="keyword">K</span> ↑</span><br><span class="line">Windows：ctrl + <span class="keyword">K</span> ↑</span><br></pre></td></tr></table></figure> <blockquote> <p>分离到下面</p> </blockquote> <figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：command + <span class="keyword">K</span> ↓</span><br><span class="line">Windows：ctrl + <span class="keyword">K</span> ↓</span><br></pre></td></tr></table></figure> <blockquote> <p>分离到左面</p> </blockquote> <figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：command + <span class="keyword">K</span> ←</span><br><span class="line">Windows：ctrl + <span class="keyword">K</span> ←</span><br></pre></td></tr></table></figure> <blockquote> <p>分离到右面</p> </blockquote> <figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：command + <span class="keyword">K</span> →</span><br><span class="line">Windows：ctrl + <span class="keyword">K</span> →</span><br></pre></td></tr></table></figure> <blockquote> <p>注意上面这些快捷键的用法，是先按一下 command + K 或者 ctrl + K ，然后松开按键，再按一下上，下，左，右这些箭头按键。</p> </blockquote> <h2 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h2><p>项目里的文件多了，想找到对应的文件，用鼠标点出这个文件很费事，可以用搜索找到文件。</p> <p>在已经打开的文件里找到你想要的文件：</p> <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：<span class="keyword">command</span> + <span class="title">B</span></span><br><span class="line">Windows：ctrl + B</span><br></pre></td></tr></table></figure> <p><img src="http://zanjs.b0.upaiyun.com/image/4/1b/d643f0a52d1e1457321f8b6b61433.png" alt=""></p> <p>在整个项目里找到你需要的文件：</p> <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：<span class="keyword">command</span> + <span class="title">P</span></span><br><span class="line">Windows：ctrl + P</span><br></pre></td></tr></table></figure> <p>查找文件里的内容</p> <p>你可以搜索包含特定内容的文件，比如在当前打开的文件里搜索，或者也可以在整个项目里搜索，<br>找到以后，可以把搜索的内容替换成新的内容。</p> <p>在当前打开的文件中搜索</p> <figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Mac</span>    ：command + <span class="built_in">F</span></span><br><span class="line">Windows：ctrl + <span class="built_in">F</span></span><br></pre></td></tr></table></figure> <p>我想知道有没有查找下一处或者上一处的快捷键，<br>打开命令面板（Mac：command + shift + P，Windows：ctrl + shift + P），搜索 find ，仔细阅读一下，<br>你会看到 Find Next ， Find Previous 还有跟它们对应的快捷键。</p> <p>查找下一个地方</p> <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：<span class="keyword">command</span> + <span class="title">G</span></span><br><span class="line">Windows：F3</span><br></pre></td></tr></table></figure> <p>查找上一个地方</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：<span class="built_in">shift</span> + <span class="built_in">command</span> + G</span><br><span class="line">Windows：<span class="built_in">shift</span> + F3</span><br></pre></td></tr></table></figure> <p>在整个项目中搜索</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mac    ：<span class="built_in">shift</span> + <span class="built_in">command</span> + F</span><br><span class="line">Windows：<span class="built_in">shift</span> + ctrl + F</span><br></pre></td></tr></table></figure> <p>下面，是我搜索了项目中的 header ，回车以后，会显示出找到的结果，<br>这个结果显示了包含搜索的内容的文件，还有出现这个内容的位置，点一下，会打开出现这个搜索内容的文件，并且会定位到对应的位置上。</p> <p><img src="http://zanjs.b0.upaiyun.com/image/6/94/e6a866d83ab1e28d8bf6b0cb81b9e.png" alt="整个项目"></p> <h2 id="读后感"><a href="#读后感" class="headerlink" title="读后感"></a>读后感</h2><p>小伙伴们 辛苦了， 能读到这里，一定吐了吧 ，<code>O(∩_∩)O哈哈~</code> , 写的我也快吐了, 排版的不是很好 见谅一下吧。</p> <p>下面欣赏一下美图吧！</p> <p><img src="http://zanjs.b0.upaiyun.com/image/5/09/af43f4834b28c25f60bfcfb3ec523.jpeg" alt="美图"></p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2015/10/25/欢迎使用马克飞象/" itemprop="url">
                  欢迎使用马克飞象
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-10-25T16:24:50+08:00" content="2015-10-25">
              2015-10-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/help/" itemprop="url" rel="index">
                    <span itemprop="name">help</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/10/25/欢迎使用马克飞象/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/10/25/欢迎使用马克飞象/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="欢迎使用马克飞象"><a href="#欢迎使用马克飞象" class="headerlink" title="欢迎使用马克飞象"></a>欢迎使用马克飞象</h1><p>@(示例笔记本)[马克飞象|帮助|Markdown]</p> <p><strong>马克飞象</strong>是一款专为印象笔记（Evernote）打造的Markdown编辑器，通过精心的设计与技术实现，配合印象笔记强大的存储和同步功能，带来前所未有的书写体验。特点概述：</p> <ul> <li><strong>功能丰富</strong> ：支持高亮代码块、<em>LaTeX</em> 公式、流程图，本地图片以及附件上传，甚至截图粘贴，工作学习好帮手；</li> <li><strong>得心应手</strong> ：简洁高效的编辑器，提供<a href="http://maxiang.info/client_zh" target="_blank" rel="external">桌面客户端</a>以及<a href="https://chrome.google.com/webstore/detail/kidnkfckhbdkfgbicccmdggmpgogehop" target="_blank" rel="external">离线Chrome App</a>，支持移动端 Web；</li> <li><strong>深度整合</strong> ：支持选择笔记本和添加标签，支持从印象笔记跳转编辑，轻松管理。</li> </ul> <hr> <p>[TOC]</p> <h2 id="Markdown简介"><a href="#Markdown简介" class="headerlink" title="Markdown简介"></a>Markdown简介</h2><blockquote> <p>Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档，然后转换成格式丰富的HTML页面。 —— <a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="external">维基百科</a></p> </blockquote> <p>正如您在阅读的这份文档，它使用简单的符号标识不同的标题，将某些文字标记为<strong>粗体</strong>或者<em>斜体</em>，创建一个<a href="http://www.example.com" target="_blank" rel="external">链接</a>或一个脚注[^demo]。下面列举了几个高级功能，更多语法请按<code>Ctrl + /</code>查看帮助。</p> <h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@requires_authorization</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">somefunc</span><span class="params">(param1=<span class="string">''</span>, param2=<span class="number">0</span>)</span>:</span></span><br><span class="line">    <span class="string">'''A docstring'''</span></span><br><span class="line">    <span class="keyword">if</span> param1 &gt; param2: <span class="comment"># interesting</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'Greater'</span></span><br><span class="line">    <span class="keyword">return</span> (param2 - param1 + <span class="number">1</span>) <span class="keyword">or</span> <span class="keyword">None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>message = <span class="string">'''interpreter</span><br><span class="line"><span class="meta">... </span>prompt'''</span></span><br></pre></td></tr></table></figure> <h3 id="LaTeX-公式"><a href="#LaTeX-公式" class="headerlink" title="LaTeX 公式"></a>LaTeX 公式</h3> <p>可以创建行内公式，例如 $\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$。或者块级公式：</p> <p>$$ x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} $$</p> <h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><table> <thead> <tr> <th style="text-align:left">Item</th> <th style="text-align:right">Value</th> <th style="text-align:center">Qty</th> </tr> </thead> <tbody> <tr> <td style="text-align:left">Computer</td> <td style="text-align:right">1600 USD</td> <td style="text-align:center">5</td> </tr> <tr> <td style="text-align:left">Phone</td> <td style="text-align:right">12 USD</td> <td style="text-align:center">12</td> </tr> <tr> <td style="text-align:left">Pipe</td> <td style="text-align:right">1 USD</td> <td style="text-align:center">234</td> </tr> </tbody> </table> <h3 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: Start</span><br><span class="line">e=&gt;end</span><br><span class="line">op=&gt;operation: My Operation</span><br><span class="line">cond=&gt;condition: Yes or No?</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure> <p>以及时序图:</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alice-&gt;Bob: Hello Bob, how are you?</span><br><span class="line">Note right of Bob: Bob thinks</span><br><span class="line">Bob--&gt;Alice: I am good thanks!</span><br></pre></td></tr></table></figure> <blockquote> <p><strong>提示：</strong>想了解更多，请查看<strong>流程图</strong><a href="http://adrai.github.io/flowchart.js/" target="_blank" rel="external">语法</a>以及<strong>时序图</strong><a href="http://bramp.github.io/js-sequence-diagrams/" target="_blank" rel="external">语法</a>。</p> </blockquote> <h3 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h3><p>使用 <code>- [ ]</code> 和 <code>- [x]</code> 语法可以创建复选框，实现 todo-list 等功能。例如：</p> <ul> <li>[x] 已完成事项</li> <li>[ ] 待办事项1</li> <li>[ ] 待办事项2</li> </ul> <blockquote> <p><strong>注意：</strong>目前支持尚不完全，在印象笔记中勾选复选框是无效、不能同步的，所以必须在<strong>马克飞象</strong>中修改 Markdown 原文才可生效。下个版本将会全面支持。</p> </blockquote> <h2 id="印象笔记相关"><a href="#印象笔记相关" class="headerlink" title="印象笔记相关"></a>印象笔记相关</h2><h3 id="笔记本和标签"><a href="#笔记本和标签" class="headerlink" title="笔记本和标签"></a>笔记本和标签</h3><p><strong>马克飞象</strong>增加了<code>@(笔记本)[标签A|标签B]</code>语法, 以选择笔记本和添加标签。 <strong>绑定账号后</strong>， 输入<code>(</code>自动会出现笔记本列表，请从中选择。</p> <h3 id="笔记标题"><a href="#笔记标题" class="headerlink" title="笔记标题"></a>笔记标题</h3><p><strong>马克飞象</strong>会自动使用文档内出现的第一个标题作为笔记标题。例如本文，就是第一行的 <code>欢迎使用马克飞象</code>。</p> <h3 id="快捷编辑"><a href="#快捷编辑" class="headerlink" title="快捷编辑"></a>快捷编辑</h3><p>保存在印象笔记中的笔记，右上角会有一个红色的编辑按钮，点击后会回到<strong>马克飞象</strong>中打开并编辑该笔记。</p> <blockquote> <p><strong>注意：</strong>目前用户在印象笔记中单方面做的任何修改，马克飞象是无法自动感知和更新的。所以请务必回到马克飞象编辑。</p> </blockquote> <h3 id="数据同步"><a href="#数据同步" class="headerlink" title="数据同步"></a>数据同步</h3><p><strong>马克飞象</strong>通过<strong>将Markdown原文以隐藏内容保存在笔记中</strong>的精妙设计，实现了对Markdown的存储和再次编辑。既解决了其他产品只是单向导出HTML的单薄，又规避了服务端存储Markdown带来的隐私安全问题。这样，服务端仅作为对印象笔记 API调用和数据转换之用。</p> <blockquote> <p><strong>隐私声明：用户所有的笔记数据，均保存在印象笔记中。马克飞象不存储用户的任何笔记数据。</strong></p> </blockquote> <h3 id="离线存储"><a href="#离线存储" class="headerlink" title="离线存储"></a>离线存储</h3><p><strong>马克飞象</strong>使用浏览器离线存储将内容实时保存在本地，不必担心网络断掉或浏览器崩溃。为了节省空间和避免冲突，已同步至印象笔记并且不再修改的笔记将删除部分本地缓存，不过依然可以随时通过<code>文档管理</code>打开。</p> <blockquote> <p><strong>注意：</strong>虽然浏览器存储大部分时候都比较可靠，但印象笔记作为专业云存储，更值得信赖。以防万一，<strong>请务必经常及时同步到印象笔记</strong>。</p> </blockquote> <h2 id="编辑器相关"><a href="#编辑器相关" class="headerlink" title="编辑器相关"></a>编辑器相关</h2><h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>右侧系统菜单（快捷键<code>Ctrl + M</code>）的<code>设置</code>中，提供了界面字体、字号、自定义CSS、vim/emacs 键盘模式等高级选项。</p> <h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p>帮助 <code>Ctrl + /</code><br>同步文档 <code>Ctrl + S</code><br>创建文档 <code>Ctrl + Alt + N</code><br>最大化编辑器 <code>Ctrl + Enter</code><br>预览文档 <code>Ctrl + Alt + Enter</code><br>文档管理 <code>Ctrl + O</code><br>系统菜单 <code>Ctrl + M</code></p> <p>加粗 <code>Ctrl + B</code><br>插入图片 <code>Ctrl + G</code><br>插入链接 <code>Ctrl + L</code><br>提升标题 <code>Ctrl + H</code></p> <h2 id="关于收费"><a href="#关于收费" class="headerlink" title="关于收费"></a>关于收费</h2><p><strong>马克飞象</strong>为新用户提供 10 天的试用期，试用期过后需要<a href="maxiang.info/vip.html">续费</a>才能继续使用。未购买或者未及时续费，将不能同步新的笔记。之前保存过的笔记依然可以编辑。</p> <h2 id="反馈与建议"><a href="#反馈与建议" class="headerlink" title="反馈与建议"></a>反馈与建议</h2><ul> <li>微博：<a href="http://weibo.com/u/2788354117" target="_blank" rel="external">@马克飞象</a>，<a href="http://weibo.com/ggock" title="开发者个人账号" target="_blank" rel="external">@GGock</a></li> <li>邮箱：<a href="&#x6d;&#x61;&#x69;&#108;&#116;&#111;&#58;&#104;&#x75;&#x73;&#x74;&#103;&#111;&#x63;&#x6b;&#x40;&#103;&#109;&#97;&#105;&#108;&#x2e;&#x63;&#x6f;&#109;">&#104;&#x75;&#x73;&#x74;&#103;&#111;&#x63;&#x6b;&#x40;&#103;&#109;&#97;&#105;&#108;&#x2e;&#x63;&#x6f;&#109;</a></li> </ul> <hr> <p>感谢阅读这份帮助文档。请点击右上角，绑定印象笔记账号，开启全新的记录与分享体验吧。</p> <p>[^demo]: 这是一个示例脚注。请查阅 <a href="https://github.com/fletcher/MultiMarkdown/wiki/MultiMarkdown-Syntax-Guide#footnotes" target="_blank" rel="external">MultiMarkdown 文档</a> 关于脚注的说明。 <strong>限制：</strong> 印象笔记的笔记内容使用 <a href="https://dev.yinxiang.com/doc/articles/enml.php" target="_blank" rel="external">ENML</a> 格式，基于 HTML，但是不支持某些标签和属性，例如id，这就导致<code>脚注</code>和<code>TOC</code>无法正常点击。</p>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars0.githubusercontent.com/u/14232344?v=3&s=200" alt="Julaud" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Julaud</p>
        </div>
        <p class="site-description motion-element" itemprop="description">不折腾，哪来的新技术</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">41</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">53</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Julaud</span>
</div>




      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"panli-gg"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
